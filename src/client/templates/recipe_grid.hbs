<!-- For multiselect-->
<div @mouseenter='hoverItem = item.value' @mouseleave='hoverItem = null' @contextmenu.prevent='selectItem(item, $event)'
  class="border-2 rounded-lg border-transparent"
  :class="{ 'border-yellow-300': multiSelectedItems.includes(item) }"
  alt='item.value.meta.fileName' x-data='buttonActions()'>
  <!-- Collection -->
  <div x-data='collection' x-effect='setData(item)'
    class='items-center flex flex-[1_0_auto] w-[416px] flex-col bg-neutral-200 px-1.5 py-2 rounded-lg'>
    <!-- Collection Inner Wrapper -->
    {{>common_grid}}
    <!-- Collection Actions -->
    <div class='justify-end items-center flex w-full max-w-full flex-row gap-1.5 mt-1.5'>
      <button x-show="false" @click='await addAsBlock(id)'
        class='justify-between items-center self-stretch flex flex-row gap-1.5 bg-zinc-500 px-2 py-1.5 rounded-lg cursor-pointer hover:drop-shadow-lg'>
        <svg width='18' height='18' viewBox='0 0 18 18' fill='none' xmlns='http://www.w3.org/2000/svg'>
          <path
            d='M14.1147 7.55356L14.1148 3.52977C14.1148 2.13263 12.9404 1.00002 11.4918 1.00001L3.62302 1C2.1744 0.999997 1.00006 2.13261 1.00006 3.52975L1 10.9107C0.999996 12.3078 2.17433 13.4405 3.62295 13.4405H8.00214M11.2295 13.4405H14.1148M14.1148 13.4405H17M14.1148 13.4405V10.6577M14.1148 13.4405V16.7291'
            stroke='#F5F5F5' stroke-width='1.6' stroke-linecap='round' />
        </svg>
        <div class='text-neutral-50 text-sm leading-5 self-center my-auto'>
          Add as Block
        </div>
      </button>

      <button
        class='justify-between items-center self-stretch flex flex-row gap-1.5 bg-amber-500 px-2 py-1.5 rounded-lg cursor-pointer hover:drop-shadow-md'
        @click="await clickToAction(item);">
        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="#F5F5F5" stroke-width="1.6" stroke-linecap="round"
          stroke-linejoin="round">
          <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" />
          <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" />
        </svg>
        <div class='text-neutral-50 text-sm leading-5 self-center my-auto' x-text="item.value.meta?.template === true ? 'Remix' : 'Edit'">
          Edit
        </div>
      </button>
      <button x-show="item.value.ui?.chat?.enabled"
        class='justify-between items-center self-stretch flex flex-row gap-1.5 bg-teal-500 px-2 py-1.5 rounded-lg cursor-pointer hover:drop-shadow-md'
        @click="openChat(item);">

        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" stroke="white"
          stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path xmlns="http://www.w3.org/2000/svg"
            d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z" />
        </svg>
        <div class='text-neutral-50 text-sm leading-5 self-center my-auto'>
          Chat<span class="font-xxs italic">(preview)</span>
        </div>
      </button>
      <button x-show="item.value.ui?.formIO?.enabled"
        class='justify-between items-center self-stretch flex flex-row gap-1.5 bg-teal-500 px-2 py-1.5 rounded-lg cursor-pointer hover:drop-shadow-md'
        @click="openFormIO(item);">
        <svg width="19" height="22" viewBox="0 0 19 22" fill="none" class="w-4 h-4" stroke="white" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <path
            d="M17.3442 9.22382C18.6904 10.0253 18.6904 11.9747 17.3442 12.7762L3.2973 21.1396C1.91939 21.96 0.172634 20.9671 0.172634 19.3634V2.63657C0.172634 1.03292 1.91939 0.0400064 3.29731 0.860407L17.3442 9.22382Z"
            fill="none" />
        </svg>
        <div class='text-neutral-50 text-sm leading-5 self-center my-auto'>
          Run
        </div>
      </button>

    </div>
  </div>
</div>